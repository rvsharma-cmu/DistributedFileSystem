<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_191) on Thu Apr 04 17:13:17 EDT 2019 -->
<title>DFSInputStream</title>
<meta name="date" content="2019-04-04">
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
<script type="text/javascript" src="../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="DFSInputStream";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-all.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../client/DFSOutputStream.html" title="class in client"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?client/DFSInputStream.html" target="_top">Frames</a></li>
<li><a href="DFSInputStream.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">client</div>
<h2 title="Class DFSInputStream" class="title">Class DFSInputStream</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>java.io.InputStream</li>
<li>
<ul class="inheritance">
<li>client.DFSInputStream</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.io.Closeable, java.lang.AutoCloseable</dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">DFSInputStream</span>
extends java.io.InputStream</pre>
<div class="block">Input stream backed by a file in the distributed filesystem.

    <p>
    Read calls on a <code>DFSInputStream</code> are directed to a storage server
    hosting the given file. Each read call corresponds to one network request.
    If this behavior is not desirable, the <code>DFSInputStream</code> should be
    wrapped in a <code>BufferedInputStream</code> or other class providing
    buffered input.

    <p>
    <code>DFSInputStream</code> does not support marks.
    <code>DFSInputStream</code> does not provide locking. This must be done
    manually by the user. The reason for this is that if
    <code>DFSInputStream</code> attempted to lock a file for shared access, it
    would not be possible to combine use of the input stream with other
    operations, such as retrieving file size, or operations that require the
    parent directory of the file to be locked for exclusive access.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../client/DFSInputStream.html#DFSInputStream-naming.Service-common.Path-">DFSInputStream</a></span>(<a href="../naming/Service.html" title="interface in naming">Service</a>&nbsp;naming_server,
              <a href="../common/Path.html" title="class in common">Path</a>&nbsp;file)</code>
<div class="block">Creates a <code>DFSInputStream</code> for a file listed by the given
        naming server.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../client/DFSInputStream.html#DFSInputStream-naming.Service-java.lang.String-">DFSInputStream</a></span>(<a href="../naming/Service.html" title="interface in naming">Service</a>&nbsp;naming_server,
              java.lang.String&nbsp;filename)</code>
<div class="block">Creates a <code>DFSInputStream</code> for a file listed by the given
        naming server.</div>
</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../client/DFSInputStream.html#DFSInputStream-java.lang.String-common.Path-">DFSInputStream</a></span>(java.lang.String&nbsp;hostname,
              <a href="../common/Path.html" title="class in common">Path</a>&nbsp;file)</code>
<div class="block">Creates a <code>DFSInputStream</code> for a file listed by the given
        naming server.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../client/DFSInputStream.html#DFSInputStream-java.lang.String-java.lang.String-">DFSInputStream</a></span>(java.lang.String&nbsp;hostname,
              java.lang.String&nbsp;filename)</code>
<div class="block">Creates a <code>DFSInputStream</code> for a file listed by the given
        naming server.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../client/DFSInputStream.html#available--">available</a></span>()</code>
<div class="block">Returns the number of bytes remaining between the current stream offset
        and the end of file.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../client/DFSInputStream.html#close--">close</a></span>()</code>
<div class="block">Closes the input stream.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../client/DFSInputStream.html#read--">read</a></span>()</code>
<div class="block">Reads a single byte from the input stream.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../client/DFSInputStream.html#read-byte:A-int-int-">read</a></span>(byte[]&nbsp;buffer,
    int&nbsp;buffer_offset,
    int&nbsp;read_length)</code>
<div class="block">Reads bytes from the input stream into a byte buffer.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../client/DFSInputStream.html#skip-long-">skip</a></span>(long&nbsp;count)</code>
<div class="block">Advances the stream offset.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.io.InputStream">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.io.InputStream</h3>
<code>mark, markSupported, read, reset</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="DFSInputStream-naming.Service-common.Path-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DFSInputStream</h4>
<pre>public&nbsp;DFSInputStream(<a href="../naming/Service.html" title="interface in naming">Service</a>&nbsp;naming_server,
                      <a href="../common/Path.html" title="class in common">Path</a>&nbsp;file)
               throws java.io.FileNotFoundException,
                      java.io.IOException</pre>
<div class="block">Creates a <code>DFSInputStream</code> for a file listed by the given
        naming server.

        <p>
        The file should be locked on the naming server for shared access.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>naming_server</code> - Stub for the naming server hosting metadata for the
                             file.</dd>
<dd><code>file</code> - Path to the file.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.FileNotFoundException</code> - If the file is not listed by the given
                                      naming server, or if the path refers to a
                                      directory.</dd>
<dd><code>java.io.IOException</code> - If either the naming server or the storage server
                            hosting the file cannot be contacted to retrieve
                            file metadata.</dd>
</dl>
</li>
</ul>
<a name="DFSInputStream-java.lang.String-common.Path-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DFSInputStream</h4>
<pre>public&nbsp;DFSInputStream(java.lang.String&nbsp;hostname,
                      <a href="../common/Path.html" title="class in common">Path</a>&nbsp;file)
               throws java.io.FileNotFoundException,
                      java.io.IOException</pre>
<div class="block">Creates a <code>DFSInputStream</code> for a file listed by the given
        naming server.

        <p>
        The file should be locked on the naming server for shared access. The
        naming server is contacted on the default client interface port.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>hostname</code> - Address of the naming server hosting metadata for the
                        file.</dd>
<dd><code>file</code> - Path to the file.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.FileNotFoundException</code> - If the file is not listed by the given
                                      naming server, or if the path refers to a
                                      directory.</dd>
<dd><code>java.io.IOException</code> - If either the naming server or the storage server
                            hosting the file cannot be contacted to retrieve
                            file metadata.</dd>
</dl>
</li>
</ul>
<a name="DFSInputStream-naming.Service-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DFSInputStream</h4>
<pre>public&nbsp;DFSInputStream(<a href="../naming/Service.html" title="interface in naming">Service</a>&nbsp;naming_server,
                      java.lang.String&nbsp;filename)
               throws java.io.FileNotFoundException,
                      java.io.IOException</pre>
<div class="block">Creates a <code>DFSInputStream</code> for a file listed by the given
        naming server.

        <p>
        The file should be locked on the naming server for shared access.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>naming_server</code> - Stub for the naming server hosting metadata for the
                             file.</dd>
<dd><code>filename</code> - Path to the file, as a string.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.FileNotFoundException</code> - If the file is not listed by the given
                                      naming server, or if the path refers to a
                                      directory.</dd>
<dd><code>java.io.IOException</code> - If either the naming server or the storage server
                            hosting the file cannot be contacted to retrieve
                            file metadata.</dd>
</dl>
</li>
</ul>
<a name="DFSInputStream-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DFSInputStream</h4>
<pre>public&nbsp;DFSInputStream(java.lang.String&nbsp;hostname,
                      java.lang.String&nbsp;filename)
               throws java.io.FileNotFoundException,
                      java.io.IOException</pre>
<div class="block">Creates a <code>DFSInputStream</code> for a file listed by the given
        naming server.

        <p>
        The file should be locked on the naming server for shared access. The
        naming server is contacted on the default client interface port.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>hostname</code> - Address of the naming server hosting metadata for the
                        file.</dd>
<dd><code>filename</code> - Path to the file, as a string.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.FileNotFoundException</code> - If the file is not listed by the given
                                      naming server, or if the path refers to a
                                      directory.</dd>
<dd><code>java.io.IOException</code> - If either the naming server or the storage server
                            hosting the file cannot be contacted to retrieve
                            file metadata.</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="close--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()</pre>
<div class="block">Closes the input stream.

        <p>
        The stream is marked as closed. Further attempts to use the input stream
        will result in <code>IOException</code>.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>close</code>&nbsp;in interface&nbsp;<code>java.io.Closeable</code></dd>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>close</code>&nbsp;in interface&nbsp;<code>java.lang.AutoCloseable</code></dd>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>close</code>&nbsp;in class&nbsp;<code>java.io.InputStream</code></dd>
</dl>
</li>
</ul>
<a name="read-byte:A-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>read</h4>
<pre>public&nbsp;int&nbsp;read(byte[]&nbsp;buffer,
                int&nbsp;buffer_offset,
                int&nbsp;read_length)
         throws java.io.IOException</pre>
<div class="block">Reads bytes from the input stream into a byte buffer.

        <p>
        The read is performed in a single request to the storage server. If the
        operation succeeds, the number of bytes read will be either
        <code>read_length</code> or the number of bytes remaining in the file,
        whichever is less.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>read</code>&nbsp;in class&nbsp;<code>java.io.InputStream</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>buffer</code> - Buffer to receive bytes read from the stream.</dd>
<dd><code>buffer_offset</code> - Offset into the buffer at which the bytes are to be
                             written.</dd>
<dd><code>read_length</code> - The maximum number of bytes to read.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The number of bytes successfully read, or <code>-1</code> if the
                end of file is reached before any bytes are read. The number of
                bytes successfully read may be zero if <code>read_length</code>
                is zero.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - If the stream is closed, if the storage server
                            cannot be contacted, or if a read error occurs on
                            the storage server.</dd>
<dd><code>java.lang.NullPointerException</code> - If <code>buffer</code> is
                                     <code>null</code>.</dd>
<dd><code>java.lang.IndexOutOfBoundsException</code> - If <code>buffer_offset</code> or
                                          <code>read_length</code> is negative,
                                          or if <code>buffer_offset +
                                          read_length</code> exceeds the length
                                          of the given buffer.</dd>
</dl>
</li>
</ul>
<a name="read--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>read</h4>
<pre>public&nbsp;int&nbsp;read()
         throws java.io.IOException</pre>
<div class="block">Reads a single byte from the input stream.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>read</code>&nbsp;in class&nbsp;<code>java.io.InputStream</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The value of the byte read, as an integer between <code>0</code>
                and <code>255</code>, or <code>-1</code> if the end of file has
                been reached.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - If the stream is closed, if the storage server
                            cannot be contacted, or if a read error occurs on
                            the storage server.</dd>
</dl>
</li>
</ul>
<a name="skip-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>skip</h4>
<pre>public&nbsp;long&nbsp;skip(long&nbsp;count)
          throws java.io.IOException</pre>
<div class="block">Advances the stream offset.

        <p>
        The stream offset is advanced by either the given number of bytes, or by
        the number of bytes remaining in the file, whichever is less.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>skip</code>&nbsp;in class&nbsp;<code>java.io.InputStream</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>count</code> - Number of bytes by which the stream offset should be
                     advanced.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The number of bytes by which the stream offset has actually been
                advanced. This number may be zero.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - If the stream has been closed.</dd>
</dl>
</li>
</ul>
<a name="available--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>available</h4>
<pre>public&nbsp;int&nbsp;available()
              throws java.io.IOException</pre>
<div class="block">Returns the number of bytes remaining between the current stream offset
        and the end of file.

        <p>
        The number returned is exact and not an estimate. However, if the number
        exceeds <code>Integer.MAX_VALUE</code>, it is clamped to
        <code>Integer.MAX_VALUE</code>.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>available</code>&nbsp;in class&nbsp;<code>java.io.InputStream</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - If the stream has been closed.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-all.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../client/DFSOutputStream.html" title="class in client"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?client/DFSInputStream.html" target="_top">Frames</a></li>
<li><a href="DFSInputStream.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
