<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_191) on Thu Apr 04 17:13:17 EDT 2019 -->
<title>NamingServer</title>
<meta name="date" content="2019-04-04">
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
<script type="text/javascript" src="../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="NamingServer";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-all.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../naming/NamingStubs.html" title="class in naming"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?naming/NamingServer.html" target="_top">Frames</a></li>
<li><a href="NamingServer.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">naming</div>
<h2 title="Class NamingServer" class="title">Class NamingServer</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>naming.NamingServer</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../naming/Registration.html" title="interface in naming">Registration</a>, <a href="../naming/Service.html" title="interface in naming">Service</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">NamingServer</span>
extends java.lang.Object
implements <a href="../naming/Service.html" title="interface in naming">Service</a>, <a href="../naming/Registration.html" title="interface in naming">Registration</a></pre>
<div class="block">Naming server.

    <p>
    Each instance of the filesystem is centered on a single naming server. The
    naming server maintains the filesystem directory tree. It does not store any
    file data - this is done by separate storage servers. The primary purpose of
    the naming server is to map each file name (path) to the storage server
    which hosts the file's contents.

    <p>
    The naming server provides two interfaces, <code>Service</code> and
    <code>Registration</code>, which are accessible through RMI. Storage servers
    use the <code>Registration</code> interface to inform the naming server of
    their existence. Clients use the <code>Service</code> interface to perform
    most filesystem operations. The documentation accompanying these interfaces
    provides details on the methods supported.

    <p>
    Stubs for accessing the naming server must typically be created by directly
    specifying the remote network address. To make this possible, the client and
    registration interfaces are available at well-known ports defined in
    <code>NamingStubs</code>.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../naming/NamingServer.html#NamingServer--">NamingServer</a></span>()</code>
<div class="block">Creates the naming server object.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../naming/NamingServer.html#createDirectory-common.Path-">createDirectory</a></span>(<a href="../common/Path.html" title="class in common">Path</a>&nbsp;directory)</code>
<div class="block">Creates the given directory, if it does not exist.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../naming/NamingServer.html#createFile-common.Path-">createFile</a></span>(<a href="../common/Path.html" title="class in common">Path</a>&nbsp;file)</code>
<div class="block">Creates the given file, if it does not exist.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../naming/NamingServer.html#delete-common.Path-">delete</a></span>(<a href="../common/Path.html" title="class in common">Path</a>&nbsp;path)</code>
<div class="block">Deletes a file or directory.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="../storage/Storage.html" title="interface in storage">Storage</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../naming/NamingServer.html#getStorage-common.Path-">getStorage</a></span>(<a href="../common/Path.html" title="class in common">Path</a>&nbsp;file)</code>
<div class="block">Returns a stub for the storage server hosting a file.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../naming/NamingServer.html#isDirectory-common.Path-">isDirectory</a></span>(<a href="../common/Path.html" title="class in common">Path</a>&nbsp;path)</code>
<div class="block">Determines whether a path refers to a directory.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>java.lang.String[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../naming/NamingServer.html#list-common.Path-">list</a></span>(<a href="../common/Path.html" title="class in common">Path</a>&nbsp;directory)</code>
<div class="block">Lists the contents of a directory.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../naming/NamingServer.html#lock-common.Path-boolean-">lock</a></span>(<a href="../common/Path.html" title="class in common">Path</a>&nbsp;path,
    boolean&nbsp;exclusive)</code>
<div class="block">Locks a file or directory for either shared or exclusive access.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="../common/Path.html" title="class in common">Path</a>[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../naming/NamingServer.html#register-storage.Storage-storage.Command-common.Path:A-">register</a></span>(<a href="../storage/Storage.html" title="interface in storage">Storage</a>&nbsp;client_stub,
        <a href="../storage/Command.html" title="interface in storage">Command</a>&nbsp;command_stub,
        <a href="../common/Path.html" title="class in common">Path</a>[]&nbsp;files)</code>
<div class="block">Registers a storage server with the naming server.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../naming/NamingServer.html#start--">start</a></span>()</code>
<div class="block">Starts the naming server.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../naming/NamingServer.html#stop--">stop</a></span>()</code>
<div class="block">Stops the naming server.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../naming/NamingServer.html#stopped-java.lang.Throwable-">stopped</a></span>(java.lang.Throwable&nbsp;cause)</code>
<div class="block">Indicates that the server has completely shut down.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../naming/NamingServer.html#unlock-common.Path-boolean-">unlock</a></span>(<a href="../common/Path.html" title="class in common">Path</a>&nbsp;path,
      boolean&nbsp;exclusive)</code>
<div class="block">Unlocks a file or directory.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="NamingServer--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>NamingServer</h4>
<pre>public&nbsp;NamingServer()</pre>
<div class="block">Creates the naming server object.

        <p>
        The naming server is not started.</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="start--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>start</h4>
<pre>public&nbsp;void&nbsp;start()
           throws <a href="../rmi/RMIException.html" title="class in rmi">RMIException</a></pre>
<div class="block">Starts the naming server.

        <p>
        After this method is called, it is possible to access the client and
        registration interfaces of the naming server remotely.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../rmi/RMIException.html" title="class in rmi">RMIException</a></code> - If either of the two skeletons, for the client or
                             registration server interfaces, could not be
                             started. The user should not attempt to start the
                             server again if an exception occurs.</dd>
</dl>
</li>
</ul>
<a name="stop--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stop</h4>
<pre>public&nbsp;void&nbsp;stop()</pre>
<div class="block">Stops the naming server.

        <p>
        This method commands both the client and registration interface
        skeletons to stop. It attempts to interrupt as many of the threads that
        are executing naming server code as possible. After this method is
        called, the naming server is no longer accessible remotely. The naming
        server should not be restarted.</div>
</li>
</ul>
<a name="stopped-java.lang.Throwable-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stopped</h4>
<pre>protected&nbsp;void&nbsp;stopped(java.lang.Throwable&nbsp;cause)</pre>
<div class="block">Indicates that the server has completely shut down.

        <p>
        This method should be overridden for error reporting and application
        exit purposes. The default implementation does nothing.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cause</code> - The cause for the shutdown, or <code>null</code> if the
                     shutdown was by explicit user request.</dd>
</dl>
</li>
</ul>
<a name="lock-common.Path-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lock</h4>
<pre>public&nbsp;void&nbsp;lock(<a href="../common/Path.html" title="class in common">Path</a>&nbsp;path,
                 boolean&nbsp;exclusive)
          throws java.io.FileNotFoundException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../naming/Service.html#lock-common.Path-boolean-">Service</a></code></span></div>
<div class="block">Locks a file or directory for either shared or exclusive access.

        <p>
        An object locked for <em>exclusive</em> access cannot be locked by any
        other user until the exclusive lock is released. An object should be
        locked for exclusive access when operations performed by the user will
        change the object's state.

        <p>
        An object locked for <em>shared</em> access can be locked by other users
        for shared access at the same time, but cannot be simultaneously locked
        by users requesting exclusive access. This kind of lock should be
        obtained when the object's state will be consulted, but not modified,
        and to prevent the object from being modified by another user.

        <p>
        Wherever there is a requirement that an object be locked for shared
        access, it is acceptable to lock the object for exclusive access
        instead: exclusive access is more "safe" than shared access. However, it
        is best to avoid this unless absolutely necessary, to permit as many
        users simultaneous access to the object as safely possible.

        <p>
        Locking a file for shared access is considered by the naming server to
        be a read request, and may cause the file to be replicated. Locking a
        file for exclusive access is considered to be a write request, and
        causes all copies of the file but one to be deleted. This latter process
        is called invalidation. The naming server must treat lock actions as
        read or write requests because it cannot monitor the true read and write
        requests - those go to the storage servers.

        <p>
        When any object is locked for either kind of access, all objects along
        the path up to, but not including, the object itself, are locked for
        shared access to prevent their modification or deletion by other users.
        For example, if one user locks <code>/etc/scripts/startup.sh</code> for
        exclusive access in order to write to it, then <code>/</code>,
        <code>/etc</code>, <code>/etc/scripts</code> will all be locked for
        shared access to prevent other users from, say, deleting them.

        <p>
        An object can be considered to be <em>effectively locked</em> for
        exclusive access if one of the directories on the path to it is already
        locked for exclusive access: this is because no user will be able to
        obtain any kind of lock on the object until the exclusive lock on the
        directory is released. This is a direct consequence of the locking order
        described in the previous paragraph. As a result, if a directory is
        locked for exclusive access, the entire subtree under that directory can
        also be considered to be locked for exclusive access. If a client takes
        advantage of this fact to lock a directory and then perform several
        accesses to the files under it, it should take care not to access files
        for writing: this may cause the naming server to miss true write
        requests to those files, and cause the naming server to fail to request
        that stale copies of the file be invalidated.

        <p>
        A minimal amount of fairness is guaranteed with locking: users are
        served in first-come first-serve order, with a slight modification:
        users requesting shared access are granted the lock simultaneously. As a
        consequence of the lock service order, if at least one exclusive user
        is already waiting for the lock, subsequent users requesting shared
        access must wait until that user has released the lock - even if the
        lock is currently taken for shared access. For example, suppose users
        <code>A</code> and <code>B</code> both currently hold the lock with
        shared access. User <code>C</code> arrives and requests exclusive
        access. User <code>C</code> is then placed in a queue. If another user,
        <code>D</code>, arrives and requests shared access, he is not permitted
        to take the lock immediately, even though it is currently taken by
        <code>A</code> and <code>B</code> for shared access. User <code>D</code>
        must wait until <code>C</code> is done with the lock.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../naming/Service.html#lock-common.Path-boolean-">lock</a></code>&nbsp;in interface&nbsp;<code><a href="../naming/Service.html" title="interface in naming">Service</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>path</code> - The file or directory to be locked.</dd>
<dd><code>exclusive</code> - If <code>true</code>, the object is to be locked for
                         exclusive access. Otherwise, it is to be locked for
                         shared access.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.FileNotFoundException</code> - If the object specified by
                                      <code>path</code> cannot be found.</dd>
</dl>
</li>
</ul>
<a name="unlock-common.Path-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unlock</h4>
<pre>public&nbsp;void&nbsp;unlock(<a href="../common/Path.html" title="class in common">Path</a>&nbsp;path,
                   boolean&nbsp;exclusive)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../naming/Service.html#unlock-common.Path-boolean-">Service</a></code></span></div>
<div class="block">Unlocks a file or directory.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../naming/Service.html#unlock-common.Path-boolean-">unlock</a></code>&nbsp;in interface&nbsp;<code><a href="../naming/Service.html" title="interface in naming">Service</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>path</code> - The file or directory to be unlocked.</dd>
<dd><code>exclusive</code> - Must be <code>true</code> if the object was locked for
                         exclusive access, and <code>false</code> if it was
                         locked for shared access.</dd>
</dl>
</li>
</ul>
<a name="isDirectory-common.Path-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isDirectory</h4>
<pre>public&nbsp;boolean&nbsp;isDirectory(<a href="../common/Path.html" title="class in common">Path</a>&nbsp;path)
                    throws java.io.FileNotFoundException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../naming/Service.html#isDirectory-common.Path-">Service</a></code></span></div>
<div class="block">Determines whether a path refers to a directory.

        <p>
        The parent directory should be locked for shared access before this
        operation is performed. This is to prevent the object in question from
        being deleted or re-created while this call is in progress.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../naming/Service.html#isDirectory-common.Path-">isDirectory</a></code>&nbsp;in interface&nbsp;<code><a href="../naming/Service.html" title="interface in naming">Service</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>path</code> - The object to be checked.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if the object is a directory,
                <code>false</code> if it is a file.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.FileNotFoundException</code> - If the object specified by
                                      <code>path</code> cannot be found.</dd>
</dl>
</li>
</ul>
<a name="list-common.Path-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>list</h4>
<pre>public&nbsp;java.lang.String[]&nbsp;list(<a href="../common/Path.html" title="class in common">Path</a>&nbsp;directory)
                        throws java.io.FileNotFoundException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../naming/Service.html#list-common.Path-">Service</a></code></span></div>
<div class="block">Lists the contents of a directory.

        <p>
        The directory should be locked for shared access before this operation
        is performed, because this operation reads the directory's child list.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../naming/Service.html#list-common.Path-">list</a></code>&nbsp;in interface&nbsp;<code><a href="../naming/Service.html" title="interface in naming">Service</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>directory</code> - The directory to be listed.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>An array of the directory entries. The entries are not
                guaranteed to be in any particular order.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.FileNotFoundException</code> - If the given path does not refer to a
                                      directory.</dd>
</dl>
</li>
</ul>
<a name="createFile-common.Path-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createFile</h4>
<pre>public&nbsp;boolean&nbsp;createFile(<a href="../common/Path.html" title="class in common">Path</a>&nbsp;file)
                   throws <a href="../rmi/RMIException.html" title="class in rmi">RMIException</a>,
                          java.io.FileNotFoundException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../naming/Service.html#createFile-common.Path-">Service</a></code></span></div>
<div class="block">Creates the given file, if it does not exist.

        <p>
        The parent directory should be locked for exclusive access before this
        operation is performed.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../naming/Service.html#createFile-common.Path-">createFile</a></code>&nbsp;in interface&nbsp;<code><a href="../naming/Service.html" title="interface in naming">Service</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>file</code> - Path at which the file is to be created.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if the file is created successfully,
                <code>false</code> otherwise. The file is not created if a file
                or directory with the given name already exists.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../rmi/RMIException.html" title="class in rmi">RMIException</a></code> - If the call cannot be completed due to a network
                             error.</dd>
<dd><code>java.io.FileNotFoundException</code> - If the parent directory does not exist.</dd>
</dl>
</li>
</ul>
<a name="createDirectory-common.Path-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createDirectory</h4>
<pre>public&nbsp;boolean&nbsp;createDirectory(<a href="../common/Path.html" title="class in common">Path</a>&nbsp;directory)
                        throws java.io.FileNotFoundException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../naming/Service.html#createDirectory-common.Path-">Service</a></code></span></div>
<div class="block">Creates the given directory, if it does not exist.

        <p>
        The parent directory should be locked for exclusive access before this
        operation is performed.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../naming/Service.html#createDirectory-common.Path-">createDirectory</a></code>&nbsp;in interface&nbsp;<code><a href="../naming/Service.html" title="interface in naming">Service</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>directory</code> - Path at which the directory is to be created.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if the directory is created successfully,
                <code>false</code> otherwise. The directory is not created if
                a file or directory with the given name already exists.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.FileNotFoundException</code> - If the parent directory does not exist.</dd>
</dl>
</li>
</ul>
<a name="delete-common.Path-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>delete</h4>
<pre>public&nbsp;boolean&nbsp;delete(<a href="../common/Path.html" title="class in common">Path</a>&nbsp;path)
               throws java.io.FileNotFoundException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../naming/Service.html#delete-common.Path-">Service</a></code></span></div>
<div class="block">Deletes a file or directory.

        <p>
        The parent directory should be locked for exclusive access before this
        operation is performed.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../naming/Service.html#delete-common.Path-">delete</a></code>&nbsp;in interface&nbsp;<code><a href="../naming/Service.html" title="interface in naming">Service</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>path</code> - Path to the file or directory to be deleted.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if the file or directory is deleted;
                <code>false</code> otherwise. The root directory cannot be
                deleted.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.FileNotFoundException</code> - If the object or parent directory does not
                                      exist.</dd>
</dl>
</li>
</ul>
<a name="getStorage-common.Path-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStorage</h4>
<pre>public&nbsp;<a href="../storage/Storage.html" title="interface in storage">Storage</a>&nbsp;getStorage(<a href="../common/Path.html" title="class in common">Path</a>&nbsp;file)
                   throws java.io.FileNotFoundException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../naming/Service.html#getStorage-common.Path-">Service</a></code></span></div>
<div class="block">Returns a stub for the storage server hosting a file.

        <p>
        If the client intends to perform calls only to <code>read</code> or
        <code>size</code> after obtaining the storage server stub, it should
        lock the file for shared access before making this call. If it intends
        to perform calls to <code>write</code>, it should lock the file for
        exclusive access.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../naming/Service.html#getStorage-common.Path-">getStorage</a></code>&nbsp;in interface&nbsp;<code><a href="../naming/Service.html" title="interface in naming">Service</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>file</code> - Path to the file.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A stub for communicating with the storage server.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.FileNotFoundException</code> - If the file does not exist.</dd>
</dl>
</li>
</ul>
<a name="register-storage.Storage-storage.Command-common.Path:A-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>register</h4>
<pre>public&nbsp;<a href="../common/Path.html" title="class in common">Path</a>[]&nbsp;register(<a href="../storage/Storage.html" title="interface in storage">Storage</a>&nbsp;client_stub,
                       <a href="../storage/Command.html" title="interface in storage">Command</a>&nbsp;command_stub,
                       <a href="../common/Path.html" title="class in common">Path</a>[]&nbsp;files)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../naming/Registration.html#register-storage.Storage-storage.Command-common.Path:A-">Registration</a></code></span></div>
<div class="block">Registers a storage server with the naming server.

        <p>
        The storage server notifies the naming server of the files that it is
        hosting. Note that the storage server does not notify the naming server
        of any directories. The naming server attempts to add as many of these
        files as possible to its directory tree. The naming server then replies
        to the storage server with a subset of these files that the storage
        server must delete from its local storage.

        <p>
        After the storage server has deleted the files as commanded, it must
        prune its directory tree by removing all directories under which no
        files can be found. This includes, for example, directories which
        contain only empty directories.

        <p>
        Registration requries the naming server to lock the root directory for
        exclusive access. Therefore, it is best done when there is not heavy
        usage of the filesystem.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../naming/Registration.html#register-storage.Storage-storage.Command-common.Path:A-">register</a></code>&nbsp;in interface&nbsp;<code><a href="../naming/Registration.html" title="interface in naming">Registration</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>client_stub</code> - Storage server client service stub. This will be
                           given to clients when operations need to be performed
                           on a file on the storage server.</dd>
<dd><code>command_stub</code> - Storage server command service stub. This will be
                            used by the naming server to issue commands that
                            modify the directory tree on the storage server.</dd>
<dd><code>files</code> - The list of files stored on the storage server. This list
                     is merged with the directory tree already present on the
                     naming server. Duplicate filenames are dropped.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A list of duplicate files to delete on the local storage of the
                registering storage server.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-all.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../naming/NamingStubs.html" title="class in naming"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?naming/NamingServer.html" target="_top">Frames</a></li>
<li><a href="NamingServer.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
